{"code":"import { __extends } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Text, View } from '@tarojs/components';\r\nimport AtButton from '../button/index';\r\nvar MIN_MAXPAGE = 1;\r\nvar getMaxPage = function (maxPage) {\r\n    if (maxPage === void 0) { maxPage = 0; }\r\n    if (maxPage <= 0)\r\n        return MIN_MAXPAGE;\r\n    return maxPage;\r\n};\r\nvar createPickerRange = function (max) {\r\n    var range = new Array(max).fill(0).map(function (_val, index) { return index + 1; });\r\n    return range;\r\n};\r\nvar AtPagination = /** @class */ (function (_super) {\r\n    __extends(AtPagination, _super);\r\n    function AtPagination(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        var _a = _this.props, current = _a.current, _b = _a.pageSize, pageSize = _b === void 0 ? 20 : _b, total = _a.total;\r\n        var maxPage = getMaxPage(Math.ceil(total / pageSize));\r\n        _this.state = {\r\n            currentPage: current || 1,\r\n            maxPage: maxPage,\r\n            pickerRange: createPickerRange(maxPage)\r\n        };\r\n        return _this;\r\n    }\r\n    AtPagination.prototype.onPrev = function () {\r\n        var currentPage = this.state.currentPage;\r\n        var originCur = currentPage;\r\n        currentPage -= 1;\r\n        currentPage = Math.max(1, currentPage);\r\n        if (originCur === currentPage)\r\n            return;\r\n        this.props.onPageChange &&\r\n            this.props.onPageChange({ type: 'prev', current: currentPage });\r\n        this.setState({ currentPage: currentPage });\r\n    };\r\n    AtPagination.prototype.onNext = function () {\r\n        var currentPage = this.state.currentPage;\r\n        var originCur = currentPage;\r\n        var maxPage = this.state.maxPage;\r\n        currentPage += 1;\r\n        currentPage = Math.min(maxPage, currentPage);\r\n        if (originCur === currentPage)\r\n            return;\r\n        this.props.onPageChange &&\r\n            this.props.onPageChange({ type: 'next', current: currentPage });\r\n        this.setState({ currentPage: currentPage });\r\n    };\r\n    AtPagination.prototype.UNSAFE_componentWillReceiveProps = function (props) {\r\n        var total = props.total, _a = props.pageSize, pageSize = _a === void 0 ? 20 : _a, current = props.current;\r\n        var maxPage = getMaxPage(Math.ceil(total / pageSize));\r\n        if (maxPage !== this.state.maxPage) {\r\n            this.setState({\r\n                maxPage: maxPage,\r\n                pickerRange: createPickerRange(maxPage)\r\n            });\r\n        }\r\n        if (typeof current === 'number' && current !== this.state.currentPage) {\r\n            this.setState({ currentPage: current });\r\n        }\r\n    };\r\n    // onPickerChange (evt) {\r\n    //   const { value } = evt.detail\r\n    //   const current = +value + 1\r\n    //   if (current === this.state.currentPage) return\r\n    //   this.props.onPageChange && this.props.onPageChange({ type: 'pick', current })\r\n    //   this.setState({\r\n    //     currentPage: current,\r\n    //   })\r\n    // }\r\n    AtPagination.prototype.render = function () {\r\n        var _a = this.props, icon = _a.icon, \r\n        // pickerSelect,\r\n        customStyle = _a.customStyle;\r\n        var _b = this.state, currentPage = _b.currentPage, maxPage = _b.maxPage\r\n        // pickerRange,\r\n        ;\r\n        var rootClassName = ['at-pagination'];\r\n        var prevDisabled = maxPage === MIN_MAXPAGE || currentPage === 1;\r\n        var nextDisabled = maxPage === MIN_MAXPAGE || currentPage === maxPage;\r\n        var classObject = {\r\n            'at-pagination--icon': icon\r\n        };\r\n        return (React.createElement(View, { className: classNames(rootClassName, classObject, this.props.className), style: customStyle },\r\n            React.createElement(View, { className: 'at-pagination__btn-prev' },\r\n                icon && (React.createElement(AtButton, { onClick: this.onPrev.bind(this), size: 'small', disabled: prevDisabled },\r\n                    React.createElement(Text, { className: 'at-icon at-icon-chevron-left' }))),\r\n                !icon && (React.createElement(AtButton, { onClick: this.onPrev.bind(this), size: 'small', disabled: prevDisabled }, \"\\u4E0A\\u4E00\\u9875\"))),\r\n            React.createElement(View, { className: 'at-pagination__number' },\r\n                React.createElement(Text, { className: 'at-pagination__number-current' }, currentPage),\r\n                \"/\",\r\n                maxPage),\r\n            React.createElement(View, { className: 'at-pagination__btn-next' },\r\n                icon && (React.createElement(AtButton, { onClick: this.onNext.bind(this), size: 'small', disabled: nextDisabled },\r\n                    React.createElement(Text, { className: 'at-icon at-icon-chevron-right' }))),\r\n                !icon && (React.createElement(AtButton, { onClick: this.onNext.bind(this), size: 'small', disabled: nextDisabled }, \"\\u4E0B\\u4E00\\u9875\")))));\r\n    };\r\n    return AtPagination;\r\n}(React.Component));\r\nexport default AtPagination;\r\nAtPagination.defaultProps = {\r\n    current: 1,\r\n    total: 0,\r\n    pageSize: 20,\r\n    icon: false,\r\n    customStyle: {}\r\n};\r\nAtPagination.propTypes = {\r\n    current: PropTypes.number,\r\n    total: PropTypes.number,\r\n    pageSize: PropTypes.number,\r\n    icon: PropTypes.bool,\r\n    customStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\r\n    onPageChange: PropTypes.func\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+classnames@2.2.10/node_modules/@types/classnames/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+react@18.2.21/node_modules/@types/react/ts5.0/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/types/pagination.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/components/button/index.tsx"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/pagination/index.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
