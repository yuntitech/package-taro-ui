{"code":"import { __extends } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Text, View } from '@tarojs/components';\r\nimport { pxTransform } from '../../common/utils';\r\nvar AtRate = /** @class */ (function (_super) {\r\n    __extends(AtRate, _super);\r\n    function AtRate() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AtRate.prototype.handleClick = function (event) {\r\n        this.props.onChange && this.props.onChange(event);\r\n    };\r\n    AtRate.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, customStyle = _a.customStyle, className = _a.className, _b = _a.value, value = _b === void 0 ? 0 : _b, _c = _a.max, max = _c === void 0 ? 5 : _c, size = _a.size, _d = _a.margin, margin = _d === void 0 ? 5 : _d;\r\n        var iconStyle = {\r\n            marginRight: pxTransform(margin)\r\n        };\r\n        var starIconStyle = {\r\n            fontSize: size ? \"\".concat(size, \"px\") : ''\r\n        };\r\n        // 生成星星颜色 className 数组，方便在jsx中直接map\r\n        var classNameArr = [];\r\n        var floorValue = Math.floor(value);\r\n        var ceilValue = Math.ceil(value);\r\n        for (var i = 0; i < max; i++) {\r\n            if (floorValue > i) {\r\n                classNameArr.push('at-rate__icon at-rate__icon--on');\r\n            }\r\n            else if (ceilValue - 1 === i) {\r\n                classNameArr.push('at-rate__icon at-rate__icon--half');\r\n            }\r\n            else {\r\n                classNameArr.push('at-rate__icon at-rate__icon--off');\r\n            }\r\n        }\r\n        return (React.createElement(View, { className: classNames('at-rate', className), style: customStyle }, classNameArr.map(function (cls, i) { return (React.createElement(View, { className: cls, key: \"at-rate-star-\".concat(i), style: iconStyle, onClick: _this.handleClick.bind(_this, i + 1) },\r\n            React.createElement(Text, { className: 'at-icon at-icon-star-2', style: starIconStyle }),\r\n            React.createElement(View, { className: 'at-rate__left' },\r\n                React.createElement(Text, { className: 'at-icon at-icon-star-2', style: starIconStyle })))); })));\r\n    };\r\n    return AtRate;\r\n}(React.Component));\r\nexport default AtRate;\r\nAtRate.defaultProps = {\r\n    customStyle: '',\r\n    className: '',\r\n    size: 0,\r\n    value: 0,\r\n    max: 5,\r\n    margin: 5\r\n};\r\nAtRate.propTypes = {\r\n    customStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\r\n    className: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\r\n    size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    value: PropTypes.number,\r\n    max: PropTypes.number,\r\n    margin: PropTypes.number,\r\n    onChange: PropTypes.func\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+classnames@2.2.10/node_modules/@types/classnames/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+react@18.2.21/node_modules/@types/react/ts5.0/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/common.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/types/rate.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/common/utils.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/rate/index.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
