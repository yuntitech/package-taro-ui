{"code":"import { __extends } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nvar AtMessage = /** @class */ (function (_super) {\r\n    __extends(AtMessage, _super);\r\n    function AtMessage(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.state = {\r\n            _isOpened: false,\r\n            _message: '',\r\n            _type: 'info',\r\n            _duration: 3000\r\n        };\r\n        _this._timer = null;\r\n        return _this;\r\n    }\r\n    AtMessage.prototype.bindMessageListener = function () {\r\n        var _this = this;\r\n        Taro.eventCenter.on('atMessage', function (options) {\r\n            if (options === void 0) { options = {}; }\r\n            var message = options.message, type = options.type, duration = options.duration;\r\n            var newState = {\r\n                _isOpened: true,\r\n                _message: message,\r\n                _type: type,\r\n                _duration: duration || _this.state._duration\r\n            };\r\n            _this.setState(newState, function () {\r\n                clearTimeout(_this._timer);\r\n                _this._timer = setTimeout(function () {\r\n                    _this.setState({\r\n                        _isOpened: false\r\n                    });\r\n                }, _this.state._duration);\r\n            });\r\n        });\r\n        // 绑定函数\r\n        Taro.atMessage = Taro.eventCenter.trigger.bind(Taro.eventCenter, 'atMessage');\r\n    };\r\n    AtMessage.prototype.componentDidShow = function () {\r\n        this.bindMessageListener();\r\n    };\r\n    AtMessage.prototype.componentDidMount = function () {\r\n        this.bindMessageListener();\r\n    };\r\n    AtMessage.prototype.componentDidHide = function () {\r\n        Taro.eventCenter.off('atMessage');\r\n    };\r\n    AtMessage.prototype.componentWillUnmount = function () {\r\n        Taro.eventCenter.off('atMessage');\r\n    };\r\n    AtMessage.prototype.render = function () {\r\n        var _a = this.props, className = _a.className, customStyle = _a.customStyle;\r\n        var _b = this.state, _message = _b._message, _isOpened = _b._isOpened, _type = _b._type;\r\n        var rootCls = classNames({\r\n            'at-message': true,\r\n            'at-message--show': _isOpened,\r\n            'at-message--hidden': !_isOpened\r\n        }, \"at-message--\".concat(_type), className);\r\n        return (React.createElement(View, { className: rootCls, style: customStyle }, _message));\r\n    };\r\n    return AtMessage;\r\n}(React.Component));\r\nexport default AtMessage;\r\nAtMessage.defaultProps = {\r\n    customStyle: '',\r\n    className: ''\r\n};\r\nAtMessage.propTypes = {\r\n    customStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\r\n    className: PropTypes.oneOfType([PropTypes.array, PropTypes.string])\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+classnames@2.2.10/node_modules/@types/classnames/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+react@18.2.21/node_modules/@types/react/ts5.0/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+taro@3.6.6_@types+react@18.2.21/node_modules/@tarojs/taro/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/types/message.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/message/index.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
