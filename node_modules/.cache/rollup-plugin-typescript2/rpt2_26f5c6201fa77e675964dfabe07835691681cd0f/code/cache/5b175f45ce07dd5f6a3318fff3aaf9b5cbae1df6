{"code":"import { __extends } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Textarea, View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nimport { pxTransform } from '../../common/utils';\r\nfunction getMaxLength(maxLength, textOverflowForbidden) {\r\n    if (!textOverflowForbidden) {\r\n        return maxLength + 500;\r\n    }\r\n    return maxLength;\r\n}\r\nvar ENV = Taro.getEnv();\r\nvar AtTextarea = /** @class */ (function (_super) {\r\n    __extends(AtTextarea, _super);\r\n    function AtTextarea() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.handleInput = function (event) {\r\n            _this.props.onChange(event.detail.value, event);\r\n        };\r\n        _this.handleFocus = function (event) {\r\n            _this.props.onFocus && _this.props.onFocus(event);\r\n        };\r\n        _this.handleBlur = function (event) {\r\n            _this.props.onBlur && _this.props.onBlur(event);\r\n        };\r\n        _this.handleConfirm = function (event) {\r\n            _this.props.onConfirm && _this.props.onConfirm(event);\r\n        };\r\n        _this.handleLinechange = function (event) {\r\n            _this.props.onLinechange && _this.props.onLinechange(event);\r\n        };\r\n        return _this;\r\n    }\r\n    AtTextarea.prototype.render = function () {\r\n        var _a = this.props, customStyle = _a.customStyle, className = _a.className, value = _a.value, cursorSpacing = _a.cursorSpacing, placeholder = _a.placeholder, placeholderStyle = _a.placeholderStyle, placeholderClass = _a.placeholderClass, _b = _a.maxLength, maxLength = _b === void 0 ? 200 : _b, count = _a.count, disabled = _a.disabled, autoFocus = _a.autoFocus, focus = _a.focus, showConfirmBar = _a.showConfirmBar, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd, fixed = _a.fixed, _c = _a.textOverflowForbidden, textOverflowForbidden = _c === void 0 ? true : _c, height = _a.height;\r\n        var _maxLength = parseInt(maxLength.toString());\r\n        var actualMaxLength = getMaxLength(_maxLength, textOverflowForbidden);\r\n        var textareaStyle = height ? \"height:\".concat(pxTransform(Number(height))) : '';\r\n        var rootCls = classNames('at-textarea', \"at-textarea--\".concat(ENV), {\r\n            'at-textarea--error': _maxLength < value.length\r\n        }, className);\r\n        var placeholderCls = classNames('placeholder', placeholderClass);\r\n        return (React.createElement(View, { className: rootCls, style: customStyle },\r\n            React.createElement(Textarea, { className: 'at-textarea__textarea', style: textareaStyle, placeholderStyle: placeholderStyle, placeholderClass: placeholderCls, cursorSpacing: cursorSpacing, value: value, maxlength: actualMaxLength, placeholder: placeholder, disabled: disabled, autoFocus: autoFocus, focus: focus, showConfirmBar: showConfirmBar, selectionStart: selectionStart, selectionEnd: selectionEnd, fixed: fixed, onInput: this.handleInput, onFocus: this.handleFocus, onBlur: this.handleBlur, onConfirm: this.handleConfirm, onLineChange: this.handleLinechange }),\r\n            count && (React.createElement(View, { className: 'at-textarea__counter' },\r\n                value.length,\r\n                \"/\",\r\n                _maxLength))));\r\n    };\r\n    return AtTextarea;\r\n}(React.Component));\r\nexport default AtTextarea;\r\nAtTextarea.defaultProps = {\r\n    customStyle: '',\r\n    className: '',\r\n    value: '',\r\n    cursorSpacing: 100,\r\n    maxLength: 200,\r\n    placeholder: '',\r\n    disabled: false,\r\n    autoFocus: false,\r\n    focus: false,\r\n    showConfirmBar: false,\r\n    selectionStart: -1,\r\n    selectionEnd: -1,\r\n    count: true,\r\n    fixed: false,\r\n    height: '',\r\n    textOverflowForbidden: true,\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    onChange: function () { }\r\n};\r\nAtTextarea.propTypes = {\r\n    customStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\r\n    className: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\r\n    value: PropTypes.string.isRequired,\r\n    cursorSpacing: PropTypes.number,\r\n    maxLength: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    placeholderClass: PropTypes.string,\r\n    placeholderStyle: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    disabled: PropTypes.bool,\r\n    autoFocus: PropTypes.bool,\r\n    focus: PropTypes.bool,\r\n    showConfirmBar: PropTypes.bool,\r\n    selectionStart: PropTypes.number,\r\n    selectionEnd: PropTypes.number,\r\n    count: PropTypes.bool,\r\n    textOverflowForbidden: PropTypes.bool,\r\n    fixed: PropTypes.bool,\r\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    onLinechange: PropTypes.func,\r\n    onChange: PropTypes.func.isRequired,\r\n    onFocus: PropTypes.func,\r\n    onBlur: PropTypes.func,\r\n    onConfirm: PropTypes.func\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+classnames@2.2.10/node_modules/@types/classnames/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+react@18.2.21/node_modules/@types/react/ts5.0/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/common.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+taro@3.6.6_@types+react@18.2.21/node_modules/@tarojs/taro/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/types/textarea.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/common/utils.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/textarea/index.tsx\"],\"names\":[],\"mappings\":\"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\"}"}
