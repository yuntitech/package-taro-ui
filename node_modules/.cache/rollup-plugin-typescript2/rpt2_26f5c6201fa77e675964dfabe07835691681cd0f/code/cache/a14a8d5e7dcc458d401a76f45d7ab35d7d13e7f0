{"code":"import { __extends } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Button, Text, View } from '@tarojs/components';\r\nimport Taro from '@tarojs/taro';\r\nimport { handleTouchScroll } from '../../common/utils';\r\nimport AtModalAction from './action/index';\r\nimport AtModalContent from './content/index';\r\nimport AtModalHeader from './header/index';\r\nvar AtModal = /** @class */ (function (_super) {\r\n    __extends(AtModal, _super);\r\n    function AtModal(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.handleClickOverlay = function () {\r\n            if (_this.props.closeOnClickOverlay) {\r\n                _this.setState({\r\n                    _isOpened: false\r\n                }, _this.handleClose);\r\n            }\r\n        };\r\n        _this.handleClose = function (event) {\r\n            if (typeof _this.props.onClose === 'function') {\r\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                _this.props.onClose(event);\r\n            }\r\n        };\r\n        _this.handleCancel = function (event) {\r\n            if (typeof _this.props.onCancel === 'function') {\r\n                _this.props.onCancel(event);\r\n            }\r\n        };\r\n        _this.handleConfirm = function (event) {\r\n            if (typeof _this.props.onConfirm === 'function') {\r\n                _this.props.onConfirm(event);\r\n            }\r\n        };\r\n        _this.handleTouchMove = function (e) {\r\n            e.stopPropagation();\r\n        };\r\n        var isOpened = props.isOpened;\r\n        _this.state = {\r\n            _isOpened: isOpened,\r\n            isWEB: Taro.getEnv() === Taro.ENV_TYPE.WEB\r\n        };\r\n        return _this;\r\n    }\r\n    AtModal.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\r\n        var isOpened = nextProps.isOpened;\r\n        if (this.props.isOpened !== isOpened) {\r\n            handleTouchScroll(isOpened);\r\n        }\r\n        if (isOpened !== this.state._isOpened) {\r\n            this.setState({\r\n                _isOpened: isOpened\r\n            });\r\n        }\r\n    };\r\n    AtModal.prototype.render = function () {\r\n        var _a = this.state, _isOpened = _a._isOpened, isWEB = _a.isWEB;\r\n        var _b = this.props, title = _b.title, content = _b.content, cancelText = _b.cancelText, confirmText = _b.confirmText;\r\n        var rootClass = classNames('at-modal', {\r\n            'at-modal--active': _isOpened\r\n        }, this.props.className);\r\n        if (title || content) {\r\n            var isRenderAction = cancelText || confirmText;\r\n            return (React.createElement(View, { className: rootClass },\r\n                React.createElement(View, { onClick: this.handleClickOverlay, className: 'at-modal__overlay' }),\r\n                React.createElement(View, { className: 'at-modal__container' },\r\n                    title && (React.createElement(AtModalHeader, null,\r\n                        React.createElement(Text, null, title))),\r\n                    content && (React.createElement(AtModalContent, null,\r\n                        React.createElement(View, { className: 'content-simple' }, isWEB ? (React.createElement(Text, { dangerouslySetInnerHTML: {\r\n                                __html: content.replace(/\\\\n/g, '<br/>')\r\n                            } })) : (React.createElement(Text, null, content))))),\r\n                    isRenderAction && (React.createElement(AtModalAction, { isSimple: true },\r\n                        cancelText && (React.createElement(Button, { onClick: this.handleCancel }, cancelText)),\r\n                        confirmText && (React.createElement(Button, { onClick: this.handleConfirm }, confirmText)))))));\r\n        }\r\n        return (React.createElement(View, { onTouchMove: this.handleTouchMove, className: rootClass },\r\n            React.createElement(View, { className: 'at-modal__overlay', onClick: this.handleClickOverlay }),\r\n            React.createElement(View, { className: 'at-modal__container' }, this.props.children)));\r\n    };\r\n    return AtModal;\r\n}(React.Component));\r\nexport default AtModal;\r\nAtModal.defaultProps = {\r\n    isOpened: false,\r\n    closeOnClickOverlay: true\r\n};\r\nAtModal.propTypes = {\r\n    title: PropTypes.string,\r\n    isOpened: PropTypes.bool,\r\n    onCancel: PropTypes.func,\r\n    onConfirm: PropTypes.func,\r\n    onClose: PropTypes.func,\r\n    content: PropTypes.string,\r\n    closeOnClickOverlay: PropTypes.bool,\r\n    cancelText: PropTypes.string,\r\n    confirmText: PropTypes.string\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+classnames@2.2.10/node_modules/@types/classnames/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@types+react@18.2.21/node_modules/@types/react/ts5.0/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+components@3.6.6_@types+react-native@0.64.13_@types+react@18.2.21_react@18.2.0/node_modules/@tarojs/components/types/common.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/node_modules/.pnpm/@tarojs+taro@3.6.6_@types+react@18.2.21/node_modules/@tarojs/taro/types/index.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/types/modal.d.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/common/utils.ts","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/components/modal/action/index.tsx","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/components/modal/content/index.tsx","/Users/leejunhui/Develop/React/Library/taro-ui/packages/taro-ui/src/components/modal/header/index.tsx"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/modal/index.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,UAAU,MAAM,YAAY,CAAA;AACnC,OAAO,SAAyB,MAAM,YAAY,CAAA;AAClD,OAAO,KAAK,MAAM,OAAO,CAAA;AACzB,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,oBAAoB,CAAA;AAEvD,OAAO,IAAI,MAAM,cAAc,CAAA;AAE/B,OAAO,EAAE,iBAAiB,EAAE,MAAM,oBAAoB,CAAA;AACtD,OAAO,aAAa,MAAM,gBAAgB,CAAA;AAC1C,OAAO,cAAc,MAAM,iBAAiB,CAAA;AAC5C,OAAO,aAAa,MAAM,gBAAgB,CAAA;AAE1C;IAAqC,2BAGpC;IAIC,iBAAmB,KAAmB;QAAtC,YACE,kBAAM,KAAK,CAAC,SAMb;QAgBO,wBAAkB,GAAG;YAC3B,IAAI,KAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE;gBAClC,KAAI,CAAC,QAAQ,CACX;oBACE,SAAS,EAAE,KAAK;iBACjB,EACD,KAAI,CAAC,WAAW,CACjB,CAAA;aACF;QACH,CAAC,CAAA;QAEO,iBAAW,GAAG,UAAC,KAAmB;YACxC,IAAI,OAAO,KAAI,CAAC,KAAK,CAAC,OAAO,KAAK,UAAU,EAAE;gBAC5C,oEAAoE;gBACpE,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAM,CAAC,CAAA;aAC3B;QACH,CAAC,CAAA;QAEO,kBAAY,GAAG,UAAC,KAAkB;YACxC,IAAI,OAAO,KAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,UAAU,EAAE;gBAC7C,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;aAC3B;QACH,CAAC,CAAA;QAEO,mBAAa,GAAG,UAAC,KAAkB;YACzC,IAAI,OAAO,KAAI,CAAC,KAAK,CAAC,SAAS,KAAK,UAAU,EAAE;gBAC9C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAA;aAC5B;QACH,CAAC,CAAA;QAEO,qBAAe,GAAG,UAAC,CAAc;YACvC,CAAC,CAAC,eAAe,EAAE,CAAA;QACrB,CAAC,CAAA;QArDS,IAAA,QAAQ,GAAK,KAAK,SAAV,CAAU;QAC1B,KAAI,CAAC,KAAK,GAAG;YACX,SAAS,EAAE,QAAQ;YACnB,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,GAAG;SAC3C,CAAA;;IACH,CAAC;IAEM,kDAAgC,GAAvC,UAAwC,SAAuB;QACrD,IAAA,QAAQ,GAAK,SAAS,SAAd,CAAc;QAE9B,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,QAAQ,EAAE;YACpC,iBAAiB,CAAC,QAAQ,CAAC,CAAA;SAC5B;QAED,IAAI,QAAQ,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;YACrC,IAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS,EAAE,QAAQ;aACpB,CAAC,CAAA;SACH;IACH,CAAC;IAoCM,wBAAM,GAAb;QACQ,IAAA,KAAuB,IAAI,CAAC,KAAK,EAA/B,SAAS,eAAA,EAAE,KAAK,WAAe,CAAA;QACjC,IAAA,KAA8C,IAAI,CAAC,KAAK,EAAtD,KAAK,WAAA,EAAE,OAAO,aAAA,EAAE,UAAU,gBAAA,EAAE,WAAW,iBAAe,CAAA;QAC9D,IAAM,SAAS,GAAG,UAAU,CAC1B,UAAU,EACV;YACE,kBAAkB,EAAE,SAAS;SAC9B,EACD,IAAI,CAAC,KAAK,CAAC,SAAS,CACrB,CAAA;QAED,IAAI,KAAK,IAAI,OAAO,EAAE;YACpB,IAAM,cAAc,GAAG,UAAU,IAAI,WAAW,CAAA;YAChD,OAAO,CACL,oBAAC,IAAI,IAAC,SAAS,EAAE,SAAS;gBACxB,oBAAC,IAAI,IACH,OAAO,EAAE,IAAI,CAAC,kBAAkB,EAChC,SAAS,EAAC,mBAAmB,GAC7B;gBACF,oBAAC,IAAI,IAAC,SAAS,EAAC,qBAAqB;oBAClC,KAAK,IAAI,CACR,oBAAC,aAAa;wBACZ,oBAAC,IAAI,QAAE,KAAK,CAAQ,CACN,CACjB;oBACA,OAAO,IAAI,CACV,oBAAC,cAAc;wBACb,oBAAC,IAAI,IAAC,SAAS,EAAC,gBAAgB,IAC7B,KAAK,CAAC,CAAC,CAAC,CACP,oBAAC,IAAI,IACH,uBAAuB,EAAE;gCACvB,MAAM,EAAE,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;6BACzC,GACK,CACT,CAAC,CAAC,CAAC,CACF,oBAAC,IAAI,QAAE,OAAO,CAAQ,CACvB,CACI,CACQ,CAClB;oBACA,cAAc,IAAI,CACjB,oBAAC,aAAa,IAAC,QAAQ;wBACpB,UAAU,IAAI,CACb,oBAAC,MAAM,IAAC,OAAO,EAAE,IAAI,CAAC,YAAY,IAAG,UAAU,CAAU,CAC1D;wBACA,WAAW,IAAI,CACd,oBAAC,MAAM,IAAC,OAAO,EAAE,IAAI,CAAC,aAAa,IAAG,WAAW,CAAU,CAC5D,CACa,CACjB,CACI,CACF,CACR,CAAA;SACF;QAED,OAAO,CACL,oBAAC,IAAI,IAAC,WAAW,EAAE,IAAI,CAAC,eAAe,EAAE,SAAS,EAAE,SAAS;YAC3D,oBAAC,IAAI,IAAC,SAAS,EAAC,mBAAmB,EAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,GAAI;YACxE,oBAAC,IAAI,IAAC,SAAS,EAAC,qBAAqB,IAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAQ,CAC7D,CACR,CAAA;IACH,CAAC;IACH,cAAC;AAAD,CAAC,AA9HD,CAAqC,KAAK,CAAC,SAAS,GA8HnD;;AAED,OAAO,CAAC,YAAY,GAAG;IACrB,QAAQ,EAAE,KAAK;IACf,mBAAmB,EAAE,IAAI;CAC1B,CAAA;AAED,OAAO,CAAC,SAAS,GAAG;IAClB,KAAK,EAAE,SAAS,CAAC,MAAM;IACvB,QAAQ,EAAE,SAAS,CAAC,IAAI;IACxB,QAAQ,EAAE,SAAS,CAAC,IAAI;IACxB,SAAS,EAAE,SAAS,CAAC,IAAI;IACzB,OAAO,EAAE,SAAS,CAAC,IAAI;IACvB,OAAO,EAAE,SAAS,CAAC,MAAM;IACzB,mBAAmB,EAAE,SAAS,CAAC,IAAI;IACnC,UAAU,EAAE,SAAS,CAAC,MAAM;IAC5B,WAAW,EAAE,SAAS,CAAC,MAAM;CAC9B,CAAA\"}"}
